# Phase 3.1: MCP-Enhanced Performance Optimization Session Prompt

## 🎯 Session Overview

**Phase**: 3.1 - Performance Optimization
**Status**: MCP-Enhanced Development Ready
**Timeline**: 1 week (MCP-accelerated)
**Success Probability**: 98% (Excellent)

## 🔧 Active MCP Tools Integration

### **Core Development Tools**
- **GitHub MCP**: Repository analysis, performance tracking, code pattern optimization
- **Supabase MCP**: Database performance analysis, query optimization, indexing strategies
- **ESLint MCP**: Code quality enforcement, bundle optimization validation

### **Quality Assurance Tools**
- **Lighthouse MCP**: Core Web Vitals monitoring, performance budget validation
- **A11y MCP**: WCAG 2.1 AA compliance maintenance during optimization
- **Playwright MCP**: Mobile responsiveness and cross-browser testing

## 📊 Phase 3.1 Objectives

### **Primary Goals**
1. **Establish Performance Baseline** using Lighthouse MCP
2. **Optimize Database Queries** with Supabase MCP analysis
3. **Implement Bundle Optimization** with ESLint MCP validation
4. **Maintain Accessibility Standards** via A11y MCP
5. **Validate Mobile Performance** through Playwright MCP

### **Success Metrics (MCP-Validated)**
- **Core Web Vitals**: All metrics in "Good" range
  - LCP < 2.5s (Lighthouse MCP target)
  - FID < 100ms (Lighthouse MCP target)
  - CLS < 0.1 (Lighthouse MCP target)
- **Bundle Size**: < 500KB initial load
- **Mobile Performance**: 90+ Lighthouse score
- **Accessibility**: Maintain WCAG 2.1 AA compliance (A11y MCP)

## 🎬 MCP-Enhanced Session Structure

### **Phase 1: Performance Analysis (15 minutes)**
```bash
# Session Start Protocol
1. Use Lighthouse MCP to establish current performance baseline
2. Use GitHub MCP to analyze repository structure and identify optimization opportunities
3. Use Supabase MCP to review database schema and query patterns
```

**MCP Commands to Execute**:
- Lighthouse MCP: Full performance audit of https://care-collective-preview.vercel.app/
- GitHub MCP: Repository file analysis for bundle optimization opportunities
- Supabase MCP: Database table and query performance review

### **Phase 2: Database Optimization (20 minutes)**
```sql
-- Supabase MCP Analysis Focus Areas
1. help_requests table indexing optimization
2. Query performance for browse requests page
3. Real-time messaging query efficiency
4. Contact exchange lookup optimization
```

**Expected MCP Actions**:
- Supabase MCP: Analyze current database indexes and query performance
- ESLint MCP: Review database query patterns in TypeScript code
- GitHub MCP: Track database optimization changes

### **Phase 3: Client-Side Optimization (30 minutes)**
```typescript
// Bundle Optimization Targets (ESLint MCP Validated)
1. Dynamic imports for route-based code splitting
2. Lazy loading for non-critical components
3. Tree shaking optimization for unused dependencies
4. Image optimization and lazy loading
```

**MCP Validation Process**:
- ESLint MCP: Real-time code quality validation during optimization
- Lighthouse MCP: Performance impact measurement after each optimization
- A11y MCP: Accessibility compliance verification

### **Phase 4: Mobile & Accessibility Validation (15 minutes)**
```typescript
// Mobile Performance Validation (Playwright MCP)
1. Touch interaction optimization testing
2. Responsive design validation across devices
3. Network efficiency testing for mobile users
4. Progressive Web App feature validation
```

**MCP Testing Protocol**:
- Playwright MCP: Mobile responsiveness and touch interaction testing
- A11y MCP: WCAG compliance validation across all optimized components
- Lighthouse MCP: Mobile performance scoring

## 🚀 Implementation Priorities

### **Week 1: MCP-Enhanced Optimization**

#### **Day 1-2: Performance Baseline & Database**
- [ ] **Lighthouse MCP Baseline**: Complete performance audit and establish metrics
- [ ] **Supabase MCP Analysis**: Database query optimization and indexing
- [ ] **GitHub MCP Tracking**: Create performance optimization tracking issues

#### **Day 3-4: Client-Side Optimization**
- [ ] **Bundle Analysis**: Identify and implement code splitting opportunities
- [ ] **ESLint MCP Validation**: Ensure code quality during optimization
- [ ] **Image Optimization**: Implement lazy loading and format optimization

#### **Day 5: Mobile & Validation**
- [ ] **Playwright MCP Testing**: Mobile responsiveness and cross-browser validation
- [ ] **A11y MCP Compliance**: Ensure accessibility standards maintained
- [ ] **Lighthouse MCP Final**: Performance validation and Core Web Vitals check

## 📋 PRP Method with MCP Integration

### **Planning (15% - Enhanced)**
- **MCP Analysis**: Use Lighthouse + Supabase + GitHub MCP for comprehensive baseline
- **Strategy Development**: Performance optimization roadmap based on MCP data
- **Resource Allocation**: MCP tool assignment for each optimization area

### **Research (20% - MCP-Powered)**
- **Performance Patterns**: GitHub MCP code analysis for optimization opportunities
- **Database Efficiency**: Supabase MCP query performance analysis
- **Accessibility Impact**: A11y MCP compliance requirements during optimization

### **Production (65% - MCP-Validated)**
- **Implementation**: Code optimization with real-time ESLint MCP validation
- **Testing**: Continuous Playwright + A11y MCP validation
- **Monitoring**: Lighthouse MCP performance tracking throughout implementation

## 🎯 Care Collective Specific Considerations

### **Community Safety During Optimization**
- **Contact Exchange Performance**: Maintain security while optimizing speed
- **Help Request Loading**: Ensure urgent requests load quickly
- **Mobile Accessibility**: Rural users often rely on mobile devices
- **Offline Resilience**: Progressive enhancement for poor connectivity

### **Domain-Specific Performance Targets**
```typescript
// Care Collective Performance Requirements
const careCollectiveTargets = {
  helpRequestsPage: { loadTime: '<2s', mobileScore: '>90' },
  contactExchange: { responseTime: '<500ms', security: 'maintained' },
  dashboardLoad: { initialPaint: '<1.5s', accessibility: 'WCAG AA' },
  messaging: { realTimeLatency: '<200ms', mobileOptimized: true }
};
```

## 🔄 Continuous MCP Validation

### **Real-Time Quality Gates**
1. **Code Changes**: ESLint MCP validation before each commit
2. **Performance Impact**: Lighthouse MCP testing after major optimizations
3. **Accessibility Check**: A11y MCP validation for all UI changes
4. **Mobile Testing**: Playwright MCP responsive design verification

### **End-of-Session MCP Report**
```bash
# Final Validation Protocol
1. Lighthouse MCP: Complete performance audit with before/after comparison
2. A11y MCP: Full accessibility compliance report
3. Playwright MCP: Mobile and cross-browser compatibility validation
4. GitHub MCP: Performance optimization tracking and documentation
```

## 📊 Expected Outcomes

### **Performance Improvements**
- **Load Time Reduction**: Target 40-60% improvement in Core Web Vitals
- **Bundle Size Optimization**: 30-50% reduction in initial load size
- **Mobile Performance**: 15-25 point Lighthouse score improvement
- **Database Efficiency**: 20-40% query performance improvement

### **Quality Maintenance**
- **Accessibility**: 100% WCAG 2.1 AA compliance maintained (A11y MCP verified)
- **Code Quality**: Zero regressions (ESLint MCP enforced)
- **Mobile Experience**: Enhanced touch interactions and responsiveness
- **Community Safety**: All privacy and security measures preserved

## 🛡️ MCP-Enhanced Safety Protocols

### **Pre-Optimization Validation**
- **Security Audit**: Ensure no sensitive information exposed during optimization
- **Privacy Compliance**: Maintain contact exchange encryption during performance improvements
- **Accessibility Preservation**: A11y MCP baseline before any UI optimizations

### **Optimization Safety Checks**
- **Real-Time Monitoring**: Lighthouse MCP alerts for performance regressions
- **Quality Gates**: ESLint MCP prevents code quality degradation
- **Accessibility Guards**: A11y MCP continuous compliance monitoring

---

## 📚 Session Resources

### **MCP Documentation**
- [Lighthouse MCP Performance Resources](../mcp-servers-recommendations.md)
- [Supabase MCP Database Optimization](../supabase-mcp-config.md)
- [A11y MCP Accessibility Testing](../docs/development/mcp-servers-setup-guide.md)

### **Care Collective Context**
- [Master Plan Status](../context-engineering/master-plan.md)
- [Platform Guidelines](../../CLAUDE.md)
- [Current Project Status](../../PROJECT_STATUS.md)

**Ready for MCP-Enhanced Performance Optimization! 🚀**

*This session prompt is optimized for the Care Collective mutual aid platform using comprehensive MCP tool integration for maximum efficiency and quality assurance.*