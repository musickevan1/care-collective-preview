# Header/Footer Standardization - Orchestration Prompt

> Generated by @prompt-builder on December 30, 2025
> Plan: `.prompts/header-footer-standardization.md`

---

## Task Overview

Standardize header and footer design across all public pages in the Care Collective platform. Create a reusable `PublicPageLayout` component and apply it to 10 public pages, ensuring consistent navigation, branding, and user experience matching the homepage design.

**Branch Strategy:** All work on `feature/public-layout-standardization` branch, merge via pull request.

---

## Phase 0: Branch Setup & Research

### 0.1 Create Feature Branch
```bash
git checkout -b feature/public-layout-standardization
git status  # Verify clean working directory
```

### 0.2 Research Existing Components
Parallelize these research tasks:
1. **Homepage Header Analysis** - Read `app/page.tsx` to understand:
   - Navy header implementation (`bg-[#324158]`)
   - Desktop navigation structure
   - Auth-aware buttons logic
   - MobileNav usage with `variant="homepage"`

2. **SiteFooter Component** - Read `components/layout/SiteFooter.tsx`:
   - Verify component interface
   - Confirm no changes needed
   - Understand how to include

3. **Public Pages Analysis** - Examine current state of:
   - `app/about/page.tsx`
   - `app/resources/page.tsx`
   - `app/contact/page.tsx`
   - `app/help/page.tsx`
   - `app/privacy-policy/page.tsx`
   - `app/terms/page.tsx`
   - `app/login/page.tsx`
   - `app/signup/page.tsx`
   - `app/waitlist/page.tsx`
   - `app/access-denied/page.tsx`

   Document patterns to remove:
   - "Back to Home" buttons
   - Custom header code
   - `bg-gradient-to-br` backgrounds
   - Inline header implementations

4. **MobileNav Component** - Read `components/MobileNav.tsx`:
   - Verify `variant="homepage"` behavior
   - Understand mobile navigation menu

5. **PlatformLayout Reference** - Read `components/layout/PlatformLayout.tsx`:
   - Use as pattern reference for layout structure
   - Understand auth state management patterns

### 0.3 Session Setup
Create `.orchestrator/sessions/header-footer-standardization/context.md` with:
- Original plan summary
- Research findings
- Component interfaces discovered
- Existing patterns to preserve/remove

---

## Phase 1: Create PublicPageLayout Component

### 1.1 Design Decisions
Based on research findings and plan specs:

**Header Navigation Items:**
```typescript
const navItems = [
  { href: '/', label: 'Home' },
  { href: '/about', label: 'About Us' },
  { href: '/help', label: 'Help' },
  { href: '/resources', label: 'Resources' },
  { href: '/contact', label: 'Contact Us' },
]
```

**Active State Logic:**
```typescript
const isActive = (href: string) => {
  // Exact match for homepage
  if (href === '/') return pathname === '/';
  // Partial match for other pages
  return pathname.startsWith(href);
};
```

**Active State Styling:**
- Background: `bg-white/20 text-sage-light`
- Font weight: `font-semibold`
- Left indicator: Small sage dot

**Auth States:**
- Not Authenticated: "Join Community" (sage bg) + "Member Login" (border, white)
- Authenticated: "Dashboard" (secondary bg) + "Sign Out"

### 1.2 Implementation

**File:** `components/layout/PublicPageLayout.tsx`

**Requirements:**
- Max 500 lines (use sub-components if needed)
- Use `ReactElement` return type (NOT `JSX.Element`)
- Server component (default)
- Accessible (ARIA labels, keyboard navigation)

**Props Interface:**
```typescript
interface PublicPageLayoutProps {
  children: React.ReactNode;
  showFooter?: boolean;  // Default: true
  className?: string;    // Optional custom classes
}
```

**Component Structure:**
1. **Header Section** (`bg-[#324158]`)
   - Logo + "CARE Collective" branding
   - Desktop navigation (hidden on mobile)
   - Auth-aware right-side buttons
   - MobileNav button (visible on mobile)

2. **Mobile Navigation**
   - Use existing `MobileNav` component
   - Pass `variant="homepage"` prop
   - Same menu items as desktop

3. **Main Content Area**
   - Accept children prop
   - Add appropriate padding/spacing
   - `bg-background` (cream) background

4. **Footer Section**
   - Include existing `SiteFooter` component
   - Only render if `showFooter` is true

**Key Implementation Notes:**
- Use `usePathname()` for active state detection
- Auth state detection via `createClient()` from Supabase
- Follow homepage header design exactly
- Mobile-first responsive design
- Skip links for accessibility

### 1.3 Code Quality Checklist
- [ ] TypeScript compiles without errors
- [ ] ESLint passes (0 warnings)
- [ ] Component under 500 lines
- [ ] Uses `ReactElement` not `JSX.Element`
- [ ] Proper TypeScript interfaces
- [ ] JSDoc comments for public API

---

## Phase 2: Update Public Content Pages

### 2.1 Pages to Update
1. `app/about/page.tsx`
2. `app/resources/page.tsx`
3. `app/contact/page.tsx`
4. `app/help/page.tsx`
5. `app/privacy-policy/page.tsx`
6. `app/terms/page.tsx`

### 2.2 Changes for Each Page

**Remove:**
- "Back to Home" buttons/link
- Custom header code (if any)
- `bg-gradient-to-br` classes
- Custom footer code (if any)

**Add:**
- Import `PublicPageLayout` component
- Wrap page content in `<PublicPageLayout>`

**Preserve:**
- All existing page content (cards, sections, text)
- Page title and metadata
- Any page-specific logic
- Form content (contact page)

**Pattern:**
```typescript
// Before
export default function AboutPage() {
  return (
    <div className="min-h-screen bg-gradient-to-br...">
      <div className="container mx-auto">
        <Link href="/" className="...">Back to Home</Link>
        <h1>About Us</h1>
        {/* content */}
      </div>
    </div>
  );
}

// After
export default function AboutPage() {
  return (
    <PublicPageLayout>
      <div className="container mx-auto py-8">
        <h1>About Us</h1>
        {/* content */}
      </div>
    </PublicPageLayout>
  );
}
```

### 2.3 Parallel Execution
Update all 6 pages in parallel (they are independent):
- Each page follows same pattern
- No dependencies between pages
- All use same `PublicPageLayout`

---

## Phase 3: Update Auth Pages

### 3.1 Pages to Update
1. `app/login/page.tsx`
2. `app/signup/page.tsx`

### 3.2 Changes for Each Page

**Remove:**
- Custom inline header with logo only
- `pt-24` from main element (header handles spacing)
- Any manual header markup

**Add:**
- Import `PublicPageLayout` component
- Wrap content in `<PublicPageLayout showFooter={true}>`

**Preserve:**
- All form content (inputs, validation, submit)
- Page-specific auth logic
- Error handling

**Pattern:**
```typescript
// Before
export default function LoginPage() {
  return (
    <div className="min-h-screen bg-background">
      <div className="pt-24">
        <div className="border-b">
          {/* custom header with logo */}
        </div>
        <div className="container">
          <form>{/* auth form */}</form>
        </div>
      </div>
    </div>
  );
}

// After
export default function LoginPage() {
  return (
    <PublicPageLayout showFooter={true}>
      <div className="container mx-auto py-8">
        <form>{/* auth form */}</form>
      </div>
    </PublicPageLayout>
  );
}
```

### 3.3 Parallel Execution
Update both login and signup pages in parallel.

---

## Phase 4: Update Special Pages

### 4.1 Pages to Update
1. `app/waitlist/page.tsx`
2. `app/access-denied/page.tsx`

### 4.2 Changes for Each Page

**Remove:**
- Any existing header (if present)
- Any "Back to Home" buttons

**Add:**
- Import `PublicPageLayout` component
- Wrap content in `<PublicPageLayout>`

**Preserve:**
- All messaging content (waitlist info, access denied message)
- Page-specific actions/forms

**Pattern:**
```typescript
// Simple wrapper
export default function WaitlistPage() {
  return (
    <PublicPageLayout>
      <div className="container mx-auto py-8">
        {/* existing waitlist content */}
      </div>
    </PublicPageLayout>
  );
}
```

### 4.3 Parallel Execution
Update both pages in parallel.

---

## Phase 5: Testing & Verification

### 5.1 Automated Testing
Run these commands and verify all pass:
```bash
npm run type-check  # TypeScript compilation - 0 errors
npm run lint        # ESLint validation - 0 warnings
npm run test        # Unit tests - all passing
```

### 5.2 Manual Testing Checklist

**Functionality:**
- [ ] Header appears on all 10 public pages
- [ ] Navigation links work correctly (5 links)
- [ ] Current page is highlighted in header (active state)
- [ ] Footer appears on all public pages
- [ ] Auth buttons show correctly when logged out
- [ ] Auth buttons show correctly when logged in
- [ ] Mobile navigation works with hamburger menu
- [ ] No "Back to Home" buttons remain in code
- [ ] Waitlist and access-denied pages have proper header/footer

**Visual Consistency:**
- [ ] Background is `bg-background` (cream) on all pages
- [ ] No gradient backgrounds remain
- [ ] Header matches homepage design exactly
- [ ] Footer matches homepage design exactly
- [ ] Logo and branding are consistent
- [ ] Active state highlighting is visible

**Accessibility:**
- [ ] Skip links work (keyboard navigation)
- [ ] ARIA labels on navigation elements
- [ ] Keyboard navigation works through nav
- [ ] Mobile touch targets 44px minimum
- [ ] Color contrast meets WCAG 2.1 AA
- [ ] Focus states are visible
- [ ] Screen reader announcements work

**Cross-Browser:**
- [ ] Chrome: All functionality works
- [ ] Firefox: All functionality works
- [ ] Safari: All functionality works
- [ ] Mobile browsers: Touch navigation works

### 5.3 Create Test Documentation
Document test results in `.orchestrator/sessions/header-footer-standardization/04-tests.md`:
- Automated test results
- Manual test checklist with pass/fail
- Browser compatibility notes
- Any issues found and resolved

---

## Phase 6: Git Workflow

### 6.1 Review Changes
```bash
git status  # Review all modified files
git diff    # Review changes
```

### 6.2 Commit Changes
```bash
git add .
git commit -m "feat: standardize header/footer across public pages

- Create PublicPageLayout component with navy header and footer
- Update 10 public pages to use PublicPageLayout
- Add active state highlighting in navigation
- Standardize background colors to bg-background
- Include footer on all pages including login/signup
- Remove 'Back to Home' buttons and custom headers
- Update waitlist and access-denied pages with full layout

Files affected:
- New: components/layout/PublicPageLayout.tsx
- Modified: app/about/page.tsx
- Modified: app/resources/page.tsx
- Modified: app/contact/page.tsx
- Modified: app/help/page.tsx
- Modified: app/privacy-policy/page.tsx
- Modified: app/terms/page.tsx
- Modified: app/login/page.tsx
- Modified: app/signup/page.tsx
- Modified: app/waitlist/page.tsx
- Modified: app/access-denied/page.tsx

Testing:
- TypeScript compilation: PASS
- ESLint validation: PASS
- Manual testing: All 10 pages verified
- Accessibility: WCAG 2.1 AA compliant
- Mobile navigation: Working
- Auth states: Verified (logged in/out)

ü§ñ Generated by orchestrator (GLM-4.7)"
```

### 6.3 Push Feature Branch
```bash
git push origin feature/public-layout-standardization
```

### 6.4 Create Pull Request
Use GitHub CLI or web interface:

**Title:**
```
Standardize header/footer across public pages
```

**Description:**
```markdown
## Summary
This PR standardizes the header and footer design across all public pages by creating a reusable `PublicPageLayout` component and applying it to 10 public pages.

## Changes
- **New Component:** `PublicPageLayout` with navy header, navigation, and footer
- **Pages Updated:** 10 pages (about, resources, contact, help, privacy-policy, terms, login, signup, waitlist, access-denied)
- **Features Added:**
  - Active state highlighting in navigation
  - Auth-aware buttons (Dashboard/Sign Out vs Join/Login)
  - Mobile navigation support
  - Consistent background colors

## Design Specifications
- Header background: `bg-[#324158]` (navy)
- Page background: `bg-background` (cream)
- Navigation links: Home, About Us, Help, Resources, Contact Us
- Active state: `bg-white/20 text-sage-light` with sage dot indicator
- Footer: Reuse existing `SiteFooter` component

## Testing
- ‚úÖ TypeScript compilation (0 errors)
- ‚úÖ ESLint validation (0 warnings)
- ‚úÖ All 10 pages verified manually
- ‚úÖ Navigation works correctly
- ‚úÖ Auth states tested (logged in/out)
- ‚úÖ Mobile navigation working
- ‚úÖ Accessibility: WCAG 2.1 AA compliant

## Files Changed
- **New (1):** `components/layout/PublicPageLayout.tsx`
- **Modified (10):** See commit details

## Checklist
- [ ] Code follows project style guidelines
- [ ] All tests pass
- [ ] Manual testing completed
- [ ] Accessibility verified
- [ ] Mobile responsive
- [ ] Documentation updated
```

### 6.5 Merge Workflow
**IMPORTANT:** Do NOT merge directly to main. Use PR review process:
1. Wait for PR review and approval
2. Address any feedback
3. Merge PR using GitHub UI (not local merge)
4. Delete feature branch after successful merge

---

## Session Documentation

### Required Session Files
Update `.orchestrator/sessions/header-footer-standardization/` with:
1. `context.md` - Original plan and research findings
2. `02-design.md` - PublicPageLayout design decisions
3. `03-implementation.md` - Implementation notes and challenges
4. `04-tests.md` - Test results and verification
5. `05-review.md` - Final quality review

### Completion Criteria
Project is complete when:
1. ‚úÖ `PublicPageLayout` component created and working
2. ‚úÖ All 10 public pages use `PublicPageLayout`
3. ‚úÖ Navy header appears on all pages
4. ‚úÖ Navigation works with active state highlighting
5. ‚úÖ Footer appears on all public pages
6. ‚úÖ Auth buttons display correctly (both states)
7. ‚úÖ Mobile navigation works on all pages
8. ‚úÖ Background is consistent (`bg-background`)
9. ‚úÖ All automated tests pass
10. ‚úÖ Manual testing checklist complete
11. ‚úÖ Pull request created and approved
12. ‚úÖ Changes merged to main via PR

---

## Critical Constraints (DO NOT VIOLATE)

### Branch Strategy
- ‚ùå NEVER commit directly to `main` branch
- ‚ùå NEVER push to `main` branch
- ‚úÖ ALL work on `feature/public-layout-standardization` branch
- ‚úÖ Merge via pull request only

### Code Quality
- ‚ùå NO files over 500 lines
- ‚ùå NO `JSX.Element` - use `ReactElement`
- ‚ùå NO ESLint warnings
- ‚ùå NO TypeScript errors
- ‚úÖ WCAG 2.1 AA accessibility
- ‚úÖ Mobile-first design

### Content Preservation
- ‚ùå DO NOT modify existing page content
- ‚ùå DO NOT change form logic
- ‚úÖ ONLY wrap/structure changes
- ‚úÖ PRESERVE all existing functionality

### Testing
- ‚ùå DO NOT skip manual testing
- ‚ùå DO NOT merge without PR review
- ‚úÖ ALL automated tests must pass
- ‚úÖ Accessibility must be verified

---

## Design Tokens Reference

### Brand Colors
```css
--sage: #7A9E99;              /* Primary actions */
--dusty-rose: #D8A8A0;        /* Secondary accent */
--primary: #BC6547;           /* Terracotta */
--secondary: #324158;         /* Navy text/header */
--accent: #C39778;            /* Tan */
--background: #FBF2E9;        /* Cream */
--text: #483129;              /* Brown */
```

### Header Specifics
- Background: `bg-[#324158]` (navy)
- Active state: `bg-white/20 text-sage-light`
- Font: Overlock
- Logo: From `/public/logo.png`

---

## Success Metrics

**Quantitative:**
- 10 pages updated
- 1 new component created
- 0 TypeScript errors
- 0 ESLint warnings
- 100% test pass rate

**Qualitative:**
- Consistent navigation across all public pages
- Improved user experience (no more getting lost)
- Professional branding everywhere
- Accessible design (WCAG 2.1 AA)
- Mobile-friendly navigation

**Risk Mitigation:**
- Feature branch isolation
- Comprehensive testing
- Pull request review
- No content modification (wrapper changes only)

---

## Related Documentation
- [CLAUDE.md](/CLAUDE.md) - Project guidelines
- [.prompts/header-footer-standardization.md](.prompts/header-footer-standardization.md) - Detailed plan
- [PROJECT_STATUS.md](/PROJECT_STATUS.md) - Current project status

---

## Execution Order

Execute phases in sequence:
1. **Phase 0** - Branch setup and research (parallelize)
2. **Phase 1** - Create PublicPageLayout component
3. **Phase 2** - Update 6 public content pages (parallelize)
4. **Phase 3** - Update 2 auth pages (parallelize)
5. **Phase 4** - Update 2 special pages (parallelize)
6. **Phase 5** - Testing and verification
7. **Phase 6** - Git workflow and PR creation

**Parallelization Opportunities:**
- Phase 0: All 5 research tasks can run in parallel
- Phase 2: All 6 pages can be updated in parallel
- Phase 3: Both auth pages can be updated in parallel
- Phase 4: Both special pages can be updated in parallel

---

**Ready for execution by @orchestrator**

All specifications, requirements, and workflows are defined above. The orchestrator should follow the phases sequentially, leveraging parallelization where indicated, and document all work in the session directory.
